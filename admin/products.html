<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Admin - Products</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Admin Styles -->
    <link rel="stylesheet" href="admin.css">
</head>
<body>

<!-- Sidebar Injection -->
<script src="sidebar.js" defer></script>

<!-- Admin Protection -->
<script src="admin-auth.js" defer></script>

<!-- CRUD Functions -->
<script src="product-crud.js" defer></script>

<div class="admin-content">
    <h2>All Products</h2>

    <div class="mt-4" id="productList"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const list = document.getElementById("productList");
    const products = getProducts();

    if (products.length === 0) {
        list.innerHTML = "<p>No products found.</p>";
        return;
    }

    products.forEach(p => {
        list.innerHTML += `
            <div class="prod-card mb-3 p-3 shadow-sm rounded">
                <h4>${p.name}</h4>
                <p><strong>Category:</strong> ${p.category}</p>
                <p><strong>Price:</strong> â‚¹${p.price}</p>

                <a href="edit-product.html?id=${p.id}" class="btn btn-primary btn-sm">Edit</a>
                <button onclick="deleteProduct('${p.id}')" class="btn btn-danger btn-sm">Delete</button>
            </div>
        `;
    });
});
</script>

</body>
</html>
